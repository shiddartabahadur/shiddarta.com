<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="google-site-verification" content="c8MSGehL0_dT30Axk42yeMNCY0QuGCJPEei29ICZW6c"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, minimum-scale=1, maximum-scale=2"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.625 -apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}h1{margin-left:0;margin-right:0;margin-top:2.4375rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.21875rem;color:inherit;font-family:Catamaran;font-weight:800;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.2;border-bottom:1px solid hsla(0,0%,0%,0.07);}h2{margin-left:0;margin-right:0;margin-top:56px;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:20px;color:inherit;font-family:Catamaran;font-weight:700;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.2;border-bottom:1px solid hsla(0,0%,0%,0.07);}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:hsla(0,0%,0%,0.53);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}ul{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:6px;list-style-position:outside;list-style-image:none;}ol{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:0.85rem;line-height:1.625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:1rem;line-height:1.625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:calc(0.8125rem - 1px);padding-right:0;padding-top:0;margin-bottom:0.8125rem;border-left:4px solid hsla(0,0%,0%,0.13);color:hsla(0,0%,0%,0.53);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(0.8125rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:2px;}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}li > ul{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(0.8125rem / 2);}code{font-size:0.85rem;line-height:1.625rem;}kbd{font-size:0.85rem;line-height:1.625rem;}samp{font-size:0.85rem;line-height:1.625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.08333rem;padding-right:1.08333rem;padding-top:0.8125rem;padding-bottom:calc(0.8125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h3,h4,h5,h6{margin-bottom:0.8125rem;margin-top:1.625rem;}ol,ul{margin-left:2.03125rem;}li>ol,li>ul{margin-left:2.03125rem;}a{color:#0687f0;text-decoration:none;box-shadow:none;}a:hover,a:active{text-decoration:underline;}a.gatsby-resp-image-link{box-shadow:none;text-decoration:none;}a:hover{color:rgb(239, 191, 0);text-decoration:none;}</style><style data-href="/styles.155efab7cc59fe24ee79.css">@import url(https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css);@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:100;src:local("Noto Sans KR Thin "),local("Noto Sans KR-Thin"),url(/static/noto-sans-kr-latin-100-2de137ca3e12ea146ee47485a97f1e78.woff2) format("woff2"),url(/static/noto-sans-kr-latin-100-b965647685dd9fc531d1f8a1cc25e024.woff) format("woff")}@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:300;src:local("Noto Sans KR Light "),local("Noto Sans KR-Light"),url(/static/noto-sans-kr-latin-300-4f773a0fce88aa857d70b56c5b0a1d26.woff2) format("woff2"),url(/static/noto-sans-kr-latin-300-ee87751dac814562bac316d848e35748.woff) format("woff")}@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:400;src:local("Noto Sans KR Regular "),local("Noto Sans KR-Regular"),url(/static/noto-sans-kr-latin-400-be09f2ced7ff9fa6eda5f0416e2fc840.woff2) format("woff2"),url(/static/noto-sans-kr-latin-400-4c50be0fe5b21a153b8e40a392c2d3fe.woff) format("woff")}@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:500;src:local("Noto Sans KR Medium "),local("Noto Sans KR-Medium"),url(/static/noto-sans-kr-latin-500-416698c2fc4b3951f8d63d3d2ae23900.woff2) format("woff2"),url(/static/noto-sans-kr-latin-500-28601458e118110e494903a1fcd6dcf5.woff) format("woff")}@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:700;src:local("Noto Sans KR Bold "),local("Noto Sans KR-Bold"),url(/static/noto-sans-kr-latin-700-04e782e08729f3725ae5a9c95da0c8ba.woff2) format("woff2"),url(/static/noto-sans-kr-latin-700-b9e989a96027f839a9569d2d011e0b71.woff) format("woff")}@font-face{font-family:Noto Sans KR;font-style:normal;font-display:swap;font-weight:900;src:local("Noto Sans KR Black "),local("Noto Sans KR-Black"),url(/static/noto-sans-kr-latin-900-c41f1395489a117ca36d550142a1695f.woff2) format("woff2"),url(/static/noto-sans-kr-latin-900-589f5fbf84d9dc9984a969bae969fd60.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:100;src:local("Catamaran Thin "),local("Catamaran-Thin"),url(/static/catamaran-latin-100-3570195a7b5f619dd9b2419d8fa3f089.woff2) format("woff2"),url(/static/catamaran-latin-100-e82908f57f6d2f23eb9876b2d6868195.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:200;src:local("Catamaran Extra Light "),local("Catamaran-Extra Light"),url(/static/catamaran-latin-200-987ea210308405ac77ba2f36430a70c9.woff2) format("woff2"),url(/static/catamaran-latin-200-bb5993d2f001b739bb9ab7c3ed9725c3.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:300;src:local("Catamaran Light "),local("Catamaran-Light"),url(/static/catamaran-latin-300-2b8a4bd13e9d5ba755f010f8732b0bb6.woff2) format("woff2"),url(/static/catamaran-latin-300-c2696c65c33dcf37871b72bad51ee1ce.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:400;src:local("Catamaran Regular "),local("Catamaran-Regular"),url(/static/catamaran-latin-400-640947b787a38ec35d097129637d9130.woff2) format("woff2"),url(/static/catamaran-latin-400-97e5bc807a3e915e3fbf40ce5fcb1128.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:500;src:local("Catamaran Medium "),local("Catamaran-Medium"),url(/static/catamaran-latin-500-884483dd213f37ae3b5c98f73dd190a5.woff2) format("woff2"),url(/static/catamaran-latin-500-412cf386e31213e3601cb2132b9c4c2d.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:600;src:local("Catamaran SemiBold "),local("Catamaran-SemiBold"),url(/static/catamaran-latin-600-eb6ebda25331e50d3f42c45a41f613bb.woff2) format("woff2"),url(/static/catamaran-latin-600-215c58c6114e0556cb1c332c0fda463a.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:700;src:local("Catamaran Bold "),local("Catamaran-Bold"),url(/static/catamaran-latin-700-3196f49881b324fa5a5f937875cc380f.woff2) format("woff2"),url(/static/catamaran-latin-700-05f6e51c518dd3b521b258e5c05d0e72.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:800;src:local("Catamaran ExtraBold "),local("Catamaran-ExtraBold"),url(/static/catamaran-latin-800-601b1d0f1b78fd65c3205b2c004bbe60.woff2) format("woff2"),url(/static/catamaran-latin-800-3b1675e4ede7e86ec79fa84c1203908e.woff) format("woff")}@font-face{font-family:Catamaran;font-style:normal;font-display:swap;font-weight:900;src:local("Catamaran Black "),local("Catamaran-Black"),url(/static/catamaran-latin-900-6bb5f96614acb7754020b922e1a63d24.woff2) format("woff2"),url(/static/catamaran-latin-900-79292dba48851cc3a212863c860d8f09.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#ccc;font-size:1em;line-height:1.5;-o-tab-size:4;tab-size:4}pre[class*=language-]{padding:1em;margin:.5em 0}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.entity{cursor:help}.token.inserted{color:green}.resume-title{font-size:4.5rem}.resume-soon,.resume-title{border-bottom:none;text-align:center}.resume-soon{font-size:3rem}.custom-hr{margin:64px;background:linear-gradient(32deg,#1f4f95,#725dcc);border:none;height:2px}.github{float:right;padding:14px;opacity:.6}.top{position:relative;width:100%;height:65px;background:linear-gradient(32deg,#1f4f95,#725dcc)}.top .link{display:inline-block;font-size:30px;padding-top:8px;color:#fff;margin-left:22px;font-family:Catamaran;font-weight:800}.home-header{margin-top:0;border-bottom:none;font-weight:900;font-size:48px;letter-spacing:-2px}.link{box-shadow:none;text-decoration:none;color:inherit}.switch-container{text-align:right}.switch-container .icon{text-align:center;color:#222;font-size:14px;font-weight:900}.footer{padding-top:52px;text-align:center;font-size:12px}.footer a{text-decoration:none!important}body.light .toc_div{background-color:#fff}@media screen and (min-width:1360px){body.light .toc_div{background-color:hsla(0,0%,100%,0)}}body.light .toc_link{color:#000}body.light .toc_link:hover{color:#000}body.light a:hover{color:#000}body.light .active{color:#0687f0}body.light .toc_toggle{background-color:#fff;border:2px solid #000}body.light .jXGdsO{border:1px solid #000}body.dark .toc_div{background-color:#282c35}@media screen and (min-width:1360px){body.dark .toc_div{background-color:hsla(0,0%,98.8%,0)}}body.dark .toc_link{color:#fdfdfd}body.dark .toc_link:hover{color:#eee}body.dark a:hover{color:#000}body.dark .active{color:#0687f0}body.dark .toc_toggle{background-color:#282c35;border:2px solid #fff}body.dark .jXGdsO{border:1px solid #fffdfd}body.light{background-color:#fff;text-shadow:0 0 .1px rgba(0,0,0,.3)}body.light .home-header{color:#000}body.light .bio .author-name-content{background-color:#ecf0f2}body.light .bio .author-introduction{color:#7d7d7d}body.light .bio a{color:#0687f0}body.light .category-container{border-color:#ecf0f2;border-style:solid;border-width:1px 6px;background-color:#f4f7f8}body.light .category-container .item{border:1px solid #ecf0f2;background-color:#fff;box-shadow:0 1px 1px rgba(0,0,0,.1)}body.light .category-container .item a{color:#666}body.light .category-container .item[aria-selected=true]{border:2px solid #909da1;font-weight:bolder}body.light .category-container .item[aria-selected=true] a{color:#636c6e}body.light .thumbnail h3{color:#000}body.light .thumbnail p{color:#7d7d7d}body.light .thumbnail:hover{text-shadow:0 0 0 transparent;background-color:rgba(0,30,84,.07)}body.light .post-date{color:#7d7d7d}body.light .footer{color:#aaa}body.light .footer a{color:#333}body.light .navigator a{background-color:#fceff7;color:#0687f0}body.light .thumbnail-date{color:#0687f0}body.dark{background-color:#000;text-shadow:0 0 .1px hsla(0,0%,100%,.3)}body.dark,body.dark .home-header{color:#eee}body.dark .bio .author-name-content{background-color:#383636}body.dark .bio .author-introduction{color:#d8d7d7}body.dark .bio a{color:#0687f0}body.dark .category-container{border-color:#383636;border-style:solid;border-width:1px 6px;background-color:#24272c}body.dark .category-container .item{border:1px solid #383636;background-color:#282c35;box-shadow:0 1px 1px hsla(0,0%,100%,.1)}body.dark .category-container .item a{color:#d8d7d7}body.dark .category-container .item[aria-selected=true]{border:2px solid #666;font-weight:bolder}body.dark .category-container .item[aria-selected=true] a{color:#fff}body.dark .thumbnail h3{color:#eee}body.dark .thumbnail p{color:#d8d7d7}body.dark .thumbnail:hover{text-shadow:violet;background-color:rgba(45,67,115,.49)}body.dark .post-date{color:#aaa}body.dark .footer{color:#d8d7d7}body.dark .footer a{color:#fff}body.dark blockquote{border-left:4px solid hsla(0,0%,100%,.822)}body.dark h1,body.dark h2{border-bottom-color:hsla(0,0%,100%,.3)}body.dark .navigator a{background-color:#fceff7;color:#0687f0}body.dark .thumbnail-date{color:#0687f0}body{font-family:Noto Sans,Noto Sans KR,sans-serif;background-color:#fff;-webkit-text-size-adjust:antialiased;-moz-osx-font-smoothing:grayscale;transition:background-color .3s,color .3s}#toc_container{float:right}.post-title-header{border:none}.post-date{text-align:left;font-size:.875rem;font-style:normal}.bio{margin-bottom:24px}.bio .author-description{display:flex}.bio .author-image{margin-top:12px;margin-right:12px;margin-bottom:0;min-width:72px}.bio .author-name-prefix{font-size:90%;margin-right:4px}.bio .author-name-content{display:inline-block;font-size:95%;padding:2px 6px;font-weight:bolder;border-radius:8px;-webkit-transform-origin:center;transform-origin:center;color:#0687f0}.bio .author-introduction{margin-top:4px;font-size:80%;line-height:1.4}.bio .author-socials{margin-top:4px}.bio a{margin-right:8px;font-size:80%}.bio a.visited{text-decoration:none}@-webkit-keyframes flutter{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}35%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}40%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}65%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes flutter{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}35%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}40%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}65%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}.category-container{display:none;position:sticky;position:-webkit-sticky;top:0;line-height:0;white-space:nowrap;overflow-x:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;z-index:1;padding:6px 20px}.category-container .item{display:inline-block;margin:.25rem 6px .25rem 0;border-radius:15px;white-space:normal;box-sizing:border-box;cursor:pointer}.category-container .item div{display:block;padding:14px 16px 16px;font-size:13px;box-sizing:border-box}.category-container .item:last-child{margin-right:0}.category-container::-webkit-scrollbar{display:none}.thumbnail-container{min-height:calc(100vh - 3.5rem)}.thumbnail{display:block;margin-bottom:12px;padding:4px 16px 12px;box-shadow:0 1px 3px rgba(0,0,0,.1),0 1px 2px rgba(0,0,0,.2);border:1px solid #0687f0;border-radius:8px;transition:text-shadow .3s,opacity .4s;opacity:0}.thumbnail article{font-size:90%;line-height:1.4;color:#7d7d7d}.thumbnail article h3{font-weight:bolder}.thumbnail article time{display:block;color:#5f378d;font-size:1rem;color:inherit}.thumbnail article :first-of-type{margin-top:1rem}.thumbnail article a,.thumbnail article a:hover{color:inherit}.thumbnail article .gatsby-resp-image-wrapper{display:none;width:0;margin-top:0}.thumbnail article pre{display:none}.thumbnail.visible{opacity:1}.navigator{margin:40px 0;display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0}.navigator li{margin-bottom:12px}.navigator a{padding:7px 16px 8px;border-radius:6px;font-size:12px;opacity:.8}@media screen and (max-width:500px){.navigator{flex-direction:column}#next{align-self:flex-end}}.gatsby-code-title{margin-top:3em;margin-bottom:-3.6em;padding:.5em 0 1em;font-family:Consolas,Andale Mono WT,Andale Mono,Lucida Console,Lucida Sans Typewriter,DejaVu Sans Mono,Bitstream Vera Sans Mono,Liberation Mono,Nimbus Mono L,Monaco,Courier New,Courier,monospace;background-color:#272822;color:#fff;z-index:150;text-align:center;font-size:95%;border-top-left-radius:.6em;border-top-right-radius:.6em}.gatsby-code-title:before{background-color:#ff5f56;border-radius:50%;border:0;box-shadow:20px 0 #ffbd2e,40px 0 #27c93f;content:" ";height:12px;margin-left:12px;margin-top:6px;width:12px;float:left}code-line{background-color:#022a4b;display:block;margin-right:-1.2em;margin-left:-1.2em;padding-right:1em;padding-left:.75em;border-left:.35em solid #0687f0}blockquote{color:#999}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-shadow:0 1px rgba(0,0,0,.3);text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.6;font-size:95%;font-weight:400;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;-ms-overflow-style:none;overflow:-moz-scrollbars-none}pre[class*=language-]::-webkit-scrollbar{display:none}pre[class*=language-]{padding:1.2em;margin:3em 0;overflow:auto;border-radius:.6em;box-shadow:0 1em .875em 0 rgba(0,0,0,.3)}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em .6em;border-radius:.3em;white-space:normal;background:#c4b8b8;color:#000;text-shadow:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{color:inherit;background:#a599e9}.token{font-weight:400}.token.cdata,.token.comment,.token.prolog{color:#999}.token.atrule,.token.delimiter,.token.important,.token.keyword,.token.selector{color:#ff9d00}.token.attr-name,.token.operator{color:#ffb454}.token.punctuation{color:#fff}.token.boolean{color:#ff628c}.token.builtin,.token.doctype,.token.tag,.token.tag .punctuation{color:#ff9d00}.token.entity,.token.symbol{color:#6897bb}.token.constant,.token.number,.token.property,.token.variable{color:#ff628c}.token.char,.token.string{color:#a6e22e}.token.attr-value,.token.attr-value .punctuation{color:#a5c261}.token.attr-value .punctuation:first-child{color:#a9b7c6}.token.url{color:#287bde;text-decoration:underline}.token.function{color:#fad000}.token.punctuation>.token.function{color:#fad000}.token.regex{background:#364135}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.inserted{background:#0f0}.token.deleted{background:#ff000d}code.language-css .token.property,code.language-css .token.property+.token.punctuation{color:#a9b7c6}code.language-css .token.id{color:#ffc66d}code.language-css .token.selector>.token.attribute,code.language-css .token.selector>.token.class,code.language-css .token.selector>.token.pseudo-class,code.language-css .token.selector>.token.pseudo-element{color:#ffc66d}.token.class-name{color:#fb94ff}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:none}pre .line-highlight,pre .line-highlight.line-highlight,pre>code.line-highlight{margin-top:36px;background:linear-gradient(90deg,rgba(179,98,255,.17),transparent)}pre .line-highlight:before,pre .line-highlight[data-end]:after,pre>code.line-highlight:before,pre>code.line-highlight[data-end]:after{content:""}pre[class*=language-]:before{background:#000;border-radius:0 0 .25rem .25rem;color:#fff;font-size:.75rem;letter-spacing:.075rem;padding:.1rem .5rem;position:relative;right:1rem;text-align:center;text-transform:uppercase;top:-1.55em;float:right;text-shadow:none}pre[class=language-javascript]:before,pre[class=language-js]:before{content:"js";background:#f7df1e;color:#000}pre[class=language-html]:before{content:"html";background:#005a9c;color:#fff}pre[class=language-css]:before{content:"css";background:#ff9800;color:#fff}pre[class=language-jsx]:before{content:"jsx";background:#61dafb;color:#fff}pre[class=language-py]:before,pre[class=language-python]:before{content:"py";background:#61da84;color:#fff}pre[class=language-env]:before{content:"env";background:#ff89d3;color:#fff}pre[class=language-bash]:before,pre[class=language-sh]:before,pre[class=language-shell]:before{content:"sh";background:#fff;color:#000}pre[class=language-yaml]:before,pre[class=language-yml]:before{content:"yml";background:linen;color:#000}pre[class=language-markdown]:before,pre[class=language-md]:before{content:"md";background:#e6ffed;color:#000}pre[class=language-mdx]:before{content:"mdx";background:#55d179;color:#fff}pre[class=language-json]:before{content:"json";background:#fff;color:#000}pre[class=language-text]:before,pre[class=language-txt]:before{content:"txt";background:grey;color:#fff}pre[class=language-diff]:before{content:"diff";background:#e8bd36;color:#fff}</style><meta name="generator" content="Gatsby 2.24.3"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="icon" href="/favicon-32x32.png?v=02a4aa98fde1f16e7ba945bb87d92375"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=02a4aa98fde1f16e7ba945bb87d92375"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=02a4aa98fde1f16e7ba945bb87d92375"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=02a4aa98fde1f16e7ba945bb87d92375"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=02a4aa98fde1f16e7ba945bb87d92375"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=02a4aa98fde1f16e7ba945bb87d92375"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=02a4aa98fde1f16e7ba945bb87d92375"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=02a4aa98fde1f16e7ba945bb87d92375"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=02a4aa98fde1f16e7ba945bb87d92375"/><link rel="alternate" type="application/rss+xml" title="Your Site&#x27;s RSS Feed" href="/rss.xml"/><title data-react-helmet="true">Error Handling in Functional Data Operation | syd-dev.com </title><meta data-react-helmet="true" name="description" content="implemented previously has hit a bottleneck due to a lack of built-in error handling. A few things to note: We are now dealing with . The question is, can we do better? This is a follow-up to the article: Making Core Data Functional. Before we start, here’s a quick overview of F…"/><meta data-react-helmet="true" property="og:title" content="Error Handling in Functional Data Operation"/><meta data-react-helmet="true" property="og:description" content="implemented previously has hit a bottleneck due to a lack of built-in error handling. A few things to note: We are now dealing with . The question is, can we do better? This is a follow-up to the article: Making Core Data Functional. Before we start, here’s a quick overview of F…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="[SHIDDARTA BAHADUR]"/><meta data-react-helmet="true" name="twitter:title" content="Error Handling in Functional Data Operation"/><meta data-react-helmet="true" name="twitter:description" content="implemented previously has hit a bottleneck due to a lack of built-in error handling. A few things to note: We are now dealing with . The question is, can we do better? This is a follow-up to the article: Making Core Data Functional. Before we start, here’s a quick overview of F…"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-04e9b4ee13a345434860.js"/><link as="script" rel="preload" href="/framework-85aff51d15c28c7fbe5f.js"/><link as="script" rel="preload" href="/app-056893061a14ebf0b4d4.js"/><link as="script" rel="preload" href="/styles-89fd2ae28bdf06750a71.js"/><link as="script" rel="preload" href="/133dca110fad53aa1997b630637bbac3134a2d14-ab91db12522df6ece152.js"/><link as="script" rel="preload" href="/d5d7a013bc6c1e2b6d7db819052c16d7efea5559-0aace0e4df3a86220f05.js"/><link as="script" rel="preload" href="/cd7d5f864fc9e15ed8adef086269b0aeff617554-238a1a5fb509b1e3da47.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-4c4b87ab3d252628fc3f.js"/><link as="fetch" rel="preload" href="/page-data/machine-learning/Error-Handling-in-Functional-Data-Operation/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="top"><a class="link" href="/">syd-dev.com </a><a href="https://github.com/syd-developer" class="github" aria-label="GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></div><div class="content_wrapper" style="margin:0;padding:0;outline:none"><svg viewBox="0 0 24 24" height="2.5em" width="2.5em" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="sc-bdVaJa iJCmgd sc-EHOje hEdvuT toc_toggle"><path d="M20 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2zM4 19V5h7v14H4zm9 0V5h7l.001 14H13z"></path><path d="M15 7h3v2h-3zm0 4h3v2h-3z"></path></svg><div class="sc-bwzfXH irKweR toc_div" id="toc_container"><h2 class="sc-htpNat iFQGgg"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="sc-bdVaJa iJCmgd sc-ifAKCX iQaElg"><path d="M20 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2zM4 19V5h7v14H4zm9 0V5h7l.001 14H13z"></path><path d="M15 7h3v2h-3zm0 4h3v2h-3z"></path></svg>Contents<svg viewBox="0 0 24 24" height="2.5em" width="2.5em" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="sc-bdVaJa iJCmgd sc-EHOje fuPgdN toc_toggle"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path><path fill="none" d="M0 0h24v24H0z"></path></svg></h2><nav></nav></div><div class="post_wrapper" style="margin-left:auto;margin-right:auto;max-width:52rem;padding:2.4375rem 1.21875rem"><div class="switch-container"><label for="normal-switch"><div style="position:relative;display:inline-block;text-align:left;opacity:1;direction:ltr;border-radius:12px;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s;touch-action:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none"><div class="react-switch-bg" style="height:24px;width:48px;margin:0;position:relative;background:#d9dfe2;border-radius:12px;cursor:pointer;-webkit-transition:background 0.25s;-moz-transition:background 0.25s;transition:background 0.25s"><div style="height:24px;width:26px;position:relative;opacity:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="icon checkedIcon">🌙</div></div><div style="height:24px;width:26px;position:absolute;opacity:1;right:0;top:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="icon uncheckedIcon">☀️</div></div></div><div class="react-switch-handle" style="height:22px;width:22px;background:#ffffff;display:inline-block;cursor:pointer;border-radius:50%;position:absolute;transform:translateX(1px);top:1px;outline:0;border:0;-webkit-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;-moz-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s"></div><input type="checkbox" role="switch" style="border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px" id="normal-switch"/></div></label></div><h1 class="post-title-header">Error Handling in Functional Data Operation</h1><p class="post-date">18/05/2021</p><div class="post-container"><blockquote>
<p><code class="language-text">FunctionalDataOperation</code> implemented previously has hit a bottleneck due to a lack of built-in error handling.</p>
</blockquote>
<h2 id="a-few-things-to-note" style="position:relative;"><a href="#a-few-things-to-note" aria-label="a few things to note permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>A few things to note:</h2>
<ul>
<li>We are now dealing with <code class="language-text">FunctionalDataOperation&lt;Result&lt;Element, AnyError>></code>. The question is, can we do better?</li>
<li>This is a follow-up to the article: Making Core Data Functional.</li>
<li>Before we start, here’s a quick overview of FunctionalDataOperation.</li>
</ul>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">public</span> <span class="token keyword">struct</span> <span class="token builtin">FunctionalDataOperation</span><span class="token operator">&lt;</span><span class="token builtin">Element</span><span class="token operator">></span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">let</span> operation <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token builtin">NSManagedObjectContext</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Element</span>

    <span class="token keyword">public</span> <span class="token keyword">init</span> <span class="token punctuation">(</span><span class="token number">_</span> operation<span class="token punctuation">:</span> @escaping <span class="token punctuation">(</span><span class="token builtin">NSManagedObjectContext</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>operation <span class="token operator">=</span> operation
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">operate</span><span class="token punctuation">(</span><span class="token keyword">in</span> context<span class="token punctuation">:</span> <span class="token builtin">NSManagedObjectContext</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Element</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> result<span class="token punctuation">:</span> <span class="token builtin">Element</span><span class="token operator">!</span>
        context<span class="token punctuation">.</span>performAndWait <span class="token punctuation">{</span>
            result <span class="token operator">=</span> <span class="token function">operation</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token function">operateAsync</span><span class="token punctuation">(</span><span class="token keyword">in</span> context<span class="token punctuation">:</span> <span class="token builtin">NSManagedObjectContext</span><span class="token punctuation">,</span>
                             <span class="token number">_</span> callback<span class="token punctuation">:</span> @escaping <span class="token punctuation">(</span><span class="token builtin">Element</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Void</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> operation <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>operation
        context<span class="token punctuation">.</span>perform <span class="token punctuation">{</span>
            <span class="token keyword">let</span> element <span class="token operator">=</span> <span class="token function">operation</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
            <span class="token function">callback</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">func</span> <span class="token builtin">map</span><span class="token operator">&lt;</span><span class="token builtin">NewElement</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">_</span> f<span class="token punctuation">:</span> @escaping <span class="token punctuation">(</span><span class="token builtin">Element</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">NewElement</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">FunctionalDataOperation</span><span class="token operator">&lt;</span><span class="token builtin">NewElement</span><span class="token operator">></span> <span class="token punctuation">{</span>

        <span class="token keyword">return</span> <span class="token builtin">FunctionalDataOperation</span><span class="token operator">&lt;</span><span class="token builtin">NewElement</span><span class="token operator">></span> <span class="token punctuation">{</span> ctx <span class="token keyword">in</span>
            <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> ctx<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">func</span> flatMap<span class="token operator">&lt;</span><span class="token builtin">NewElement</span><span class="token operator">></span>
    <span class="token punctuation">(</span><span class="token number">_</span> f<span class="token punctuation">:</span> @escaping <span class="token punctuation">(</span><span class="token builtin">Element</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">FunctionalDataOperation</span><span class="token operator">&lt;</span><span class="token builtin">NewElement</span><span class="token operator">></span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">FunctionalDataOperation</span><span class="token operator">&lt;</span><span class="token builtin">NewElement</span><span class="token operator">></span> <span class="token punctuation">{</span>

        <span class="token keyword">return</span> <span class="token builtin">FunctionalDataOperation</span><span class="token operator">&lt;</span><span class="token builtin">NewElement</span><span class="token operator">></span> <span class="token punctuation">{</span> ctx <span class="token keyword">in</span>
            <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> ctx<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span>ctx<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">func</span> zip<span class="token operator">&lt;</span>A<span class="token punctuation">,</span> B<span class="token operator">></span>

<span class="token punctuation">(</span><span class="token number">_</span> firstOperation<span class="token punctuation">:</span> <span class="token builtin">FunctionalDataOperation</span><span class="token operator">&lt;</span>A<span class="token operator">></span><span class="token punctuation">,</span> <span class="token number">_</span> secondOperation<span class="token punctuation">:</span> <span class="token builtin">FunctionalDataOperation</span><span class="token operator">&lt;</span>B<span class="token operator">></span><span class="token punctuation">)</span>
    <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">FunctionalDataOperation</span><span class="token operator">&lt;</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span>B<span class="token punctuation">)</span><span class="token operator">></span> <span class="token punctuation">{</span>

    <span class="token keyword">return</span> <span class="token builtin">FunctionalDataOperation</span> <span class="token punctuation">{</span> ctx <span class="token keyword">in</span>
        <span class="token punctuation">(</span>firstOperation<span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span>ctx<span class="token punctuation">)</span><span class="token punctuation">,</span> secondOperation<span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span>ctx<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h2 id="functional-data-operation" style="position:relative;"><a href="#functional-data-operation" aria-label="functional data operation permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Functional Data Operation</h2>
<p>What’s wrong with FunctionalDataOperation&#x3C;Result&#x3C;Element, AnyError>>?</p>
<p>Ok, I’ll briefly show you how things break apart when we perform a flatMap operation on <code class="language-text">FunctionalDataOperation&lt;Result&lt;Element,Error>></code>.</p>
<p>This is what we have if it were to always return <code class="language-text">Result</code>.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">FunctionalDataOperation</span><span class="token operator">&lt;</span><span class="token builtin">Element</span><span class="token punctuation">,</span> <span class="token builtin">Error</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">let</span> operation<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token builtin">NSManagedObjectContext</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">Element</span><span class="token punctuation">,</span> <span class="token builtin">Error</span><span class="token operator">></span>
<span class="token punctuation">}</span></code></pre></div>
<p>And we shall start with implementing a little helper function <code class="language-text">fetchOperation</code> that takes in a fetch request and returns an operation.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> fetchOperation<span class="token operator">&lt;</span><span class="token builtin">ResultType</span><span class="token operator">></span>
<span class="token punctuation">(</span> request<span class="token punctuation">:</span> <span class="token builtin">NSFetchRequest</span><span class="token operator">&lt;</span><span class="token builtin">ResultType</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">FunctionalDataOperation</span><span class="token operator">&lt;</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">ResultType</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token builtin">Error</span><span class="token operator">></span><span class="token operator">></span> <span class="token punctuation">{</span>

    <span class="token keyword">return</span> <span class="token builtin">FunctionalDataOperation</span> <span class="token punctuation">{</span> context <span class="token keyword">in</span>
        context<span class="token punctuation">.</span><span class="token function">fetching</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Here we assume – there is a <code class="language-text">FunctionalDataOperation</code> that returns the name of a <code class="language-text">Game</code>.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> nameOperation<span class="token punctuation">:</span> <span class="token builtin">FunctionalDataOperation</span><span class="token operator">&lt;</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">AnyError</span><span class="token operator">></span><span class="token operator">></span></code></pre></div>
<p>After that, a function that creates a fetch operation that filters our games by name.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function">fetchGamesOperation</span><span class="token punctuation">(</span>named<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">FunctionalDataOperation</span><span class="token operator">&lt;</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">Game</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">AnyError</span><span class="token operator">></span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> gameRequest <span class="token operator">=</span> <span class="token builtin">NSFetchRequest</span><span class="token operator">&lt;</span><span class="token builtin">Game</span><span class="token operator">></span><span class="token punctuation">(</span>entityName<span class="token punctuation">:</span> “<span class="token builtin">Game</span>”<span class="token punctuation">)</span>
    gameRequest<span class="token punctuation">.</span>predicate <span class="token operator">=</span> <span class="token function">NSPredicate</span><span class="token punctuation">(</span>format<span class="token punctuation">:</span> “name <span class="token operator">==</span> <span class="token operator">%</span>@“<span class="token punctuation">,</span> named<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">fetchOperation</span><span class="token punctuation">(</span>gameRequest<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Finally, applying <code class="language-text">flatMap</code> to hook these two operations together:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> filteredGamesOperation <span class="token operator">=</span> nameOperation<span class="token punctuation">.</span>flatMap <span class="token punctuation">{</span> nameResult <span class="token keyword">in</span>
    <span class="token keyword">return</span> <span class="token builtin">FunctionalDataOperation</span> <span class="token punctuation">{</span> context <span class="token keyword">in</span>
        <span class="token keyword">return</span> nameResult<span class="token punctuation">.</span>flatMap <span class="token punctuation">{</span> name <span class="token keyword">in</span>
            <span class="token keyword">return</span> <span class="token function">fetchGamesOperation</span><span class="token punctuation">(</span>named<span class="token punctuation">:</span> name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> context<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>See how that’s total a disaster? It was supposed to be just a simple flatMap.</p>
<h2 id="introducing-resultfcd" style="position:relative;"><a href="#introducing-resultfcd" aria-label="introducing resultfcd permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introducing ResultFCD</h2>
<p>I was inspired by Haskell’s Data.Either and IO type. IO type is essentially a lazily evaluated closure that we usually put side effects in, like reading from file or printing to console. Quite often, IO has a failure state, which means it will return an Either saying it’s either successful or failed. But having IO&#x3C;Either&#x3C;Success, Error>> everywhere would cause the problems we are currently facing, so they created <code class="language-text">EitherIO</code>.</p>
<p><code class="language-text">ResultFDO</code> follows the name convention of putting the inner container first and then the outer container second. But ResultFunctionalDataOperation is a bit too long, so it’s been shortened down to <code class="language-text">ResultFDO</code>. After all, IO is also an abbreviation, right?</p>
<p>It is straightforward to implement, starting with its only property.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ResultFDO</span><span class="token operator">&lt;</span><span class="token builtin">Element</span><span class="token punctuation">,</span> <span class="token builtin">Error</span><span class="token punctuation">:</span> <span class="token builtin">Swift</span><span class="token punctuation">.</span><span class="token builtin">Error</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> operation<span class="token punctuation">:</span> <span class="token builtin">FunctionalDataOperation</span><span class="token operator">&lt;</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">Element</span><span class="token punctuation">,</span> <span class="token builtin">Error</span><span class="token operator">></span><span class="token operator">></span>

    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token number">_</span> operation<span class="token punctuation">:</span> @escaping <span class="token punctuation">(</span><span class="token builtin">NSManagedObjectContext</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">Element</span><span class="token punctuation">,</span> <span class="token builtin">Error</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>operation <span class="token operator">=</span> <span class="token function">FunctionalDataOperation</span><span class="token punctuation">(</span>operation<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>There’s also a convenience initialiser so we can have a similar syntax to <code class="language-text">FunctionalDataOperation</code> which we could get access to the context directly.</p>
<p>Similarly, it should also have <code class="language-text">operate</code> and <code class="language-text">operateAsync</code>.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">extension</span> <span class="token builtin">ResultFDO</span><span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token function">operate</span><span class="token punctuation">(</span><span class="token keyword">in</span> context<span class="token punctuation">:</span> <span class="token builtin">NSManagedObjectContext</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">Element</span><span class="token punctuation">,</span><span class="token builtin">Error</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> operation<span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> context<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">func</span> operateAsync
    <span class="token punctuation">(</span><span class="token keyword">in</span> context<span class="token punctuation">:</span> <span class="token builtin">NSManagedObjectContext</span><span class="token punctuation">,</span> <span class="token number">_</span> callback<span class="token punctuation">:</span> @escaping <span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">Element</span><span class="token punctuation">,</span> <span class="token builtin">Error</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Void</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        operation<span class="token punctuation">.</span><span class="token function">operateAsync</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> context<span class="token punctuation">,</span> callback<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Along with <code class="language-text">map</code> and <code class="language-text">flatMap</code> operations:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">extension</span> <span class="token builtin">ResultFDO</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token builtin">map</span><span class="token operator">&lt;</span><span class="token builtin">NewElement</span><span class="token operator">></span>
    <span class="token punctuation">(</span><span class="token number">_</span> f<span class="token punctuation">:</span> @escaping <span class="token punctuation">(</span><span class="token builtin">Element</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">NewElement</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">ResultFDO</span><span class="token operator">&lt;</span><span class="token builtin">NewElement</span><span class="token punctuation">,</span> <span class="token builtin">Error</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token builtin">ResultFDO</span><span class="token operator">&lt;</span><span class="token builtin">NewElement</span><span class="token punctuation">,</span> <span class="token builtin">Error</span><span class="token operator">></span><span class="token punctuation">(</span>operation<span class="token punctuation">:</span> operation<span class="token punctuation">.</span><span class="token builtin">map</span> <span class="token punctuation">{</span> $<span class="token number">0</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">func</span> flatMap<span class="token operator">&lt;</span><span class="token builtin">NewElement</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">_</span> f<span class="token punctuation">:</span> @escaping <span class="token punctuation">(</span><span class="token builtin">Element</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">ResultFDO</span><span class="token operator">&lt;</span><span class="token builtin">NewElement</span><span class="token punctuation">,</span> <span class="token builtin">Error</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token builtin">ResultFDO</span><span class="token operator">&lt;</span><span class="token builtin">NewElement</span><span class="token punctuation">,</span> <span class="token builtin">Error</span><span class="token operator">></span> <span class="token punctuation">{</span> ctx <span class="token keyword">in</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>operation<span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span>ctx<span class="token punctuation">)</span><span class="token punctuation">.</span>flatMap <span class="token punctuation">{</span> <span class="token function">f</span><span class="token punctuation">(</span>$<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span>ctx<span class="token punctuation">)</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>I encourage you to try to create it yourself and only reference this when stuck, even though <code class="language-text">FlatMap</code> might seem intimidating at first.</p>
<h2 id="error-handling-the-right-way" style="position:relative;"><a href="#error-handling-the-right-way" aria-label="error handling the right way permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Error Handling the Right-way</h2>
<p>Actually, why are we doing this instead of just using a <code class="language-text">typealias</code>? This wrapper type seems a little redundant, no? Too bad that we can’t write an extension to type alias easily, plus I didn’t think it’s justifiable to extend <code class="language-text">FunctionalDataOperation</code> to constrain its <code class="language-text">Element</code> to a Result. This seemed cleaner.</p>
<p>Comparing <code class="language-text">ResultFDO</code> to <code class="language-text">FunctionalDataOperation&lt;Result&lt;Element,Error>></code>, now it’s much easier to navigate our minds between various functional operations such as map, flatMap,sequence .</p>
<p>Let’s rewrite fetchOperation function to return ResultFDO instead of a <code class="language-text">FunctionalDataOperation</code>.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> fetchOperation<span class="token operator">&lt;</span><span class="token builtin">ResultType</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">_</span> request<span class="token punctuation">:</span> <span class="token builtin">NSFetchRequest</span><span class="token operator">&lt;</span><span class="token builtin">ResultType</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">ResultFDO</span><span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">ResultType</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token builtin">ResultFDO</span> <span class="token punctuation">{</span> context <span class="token keyword">in</span>
        context<span class="token punctuation">.</span><span class="token function">fetching</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>And here’s how the calling code would look like:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> gameRequest <span class="token operator">=</span> <span class="token builtin">NSFetchRequest</span><span class="token operator">&lt;</span><span class="token builtin">Game</span><span class="token operator">></span><span class="token punctuation">(</span>entityName<span class="token punctuation">:</span> “<span class="token builtin">Game</span>”<span class="token punctuation">)</span>
<span class="token keyword">let</span> gameOperation<span class="token punctuation">:</span> <span class="token builtin">ResultFDO</span><span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">Game</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">AnyError</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token function">fetchOperation</span><span class="token punctuation">(</span>gameRequest<span class="token punctuation">)</span>
<span class="token keyword">let</span> gameResult<span class="token punctuation">:</span> <span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">Game</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">AnyError</span><span class="token operator">></span> <span class="token operator">=</span> gameOperation<span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> context<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Not much has changed, but that was kinda expected. <code class="language-text">ResultFDO</code> was meant to serve as a wrapper type, so it would make sense they have similar APIs.</p>
<p>What about <code class="language-text">map</code>?</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> namesOperation <span class="token operator">=</span> gameOperation<span class="token punctuation">.</span><span class="token builtin">map</span> <span class="token punctuation">{</span> $<span class="token number">0</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>getNameSafely<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token comment">// Type: DataOperation&lt;Result&lt;[String],AnyError></span></code></pre></div>
<p>That’s exactly what we would expect from a container! There are not extraneous map calls. Then what about <code class="language-text">flatMap</code>?</p>
<p>Similarly, we assume we have a <code class="language-text">ResultFDO</code> that gives us a game’s name.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> namesOperation<span class="token punctuation">:</span> <span class="token builtin">ResultFDO</span><span class="token operator">&lt;</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">AnyError</span><span class="token operator">></span></code></pre></div>
<p>And then we rewrite a <code class="language-text">fetchGamesOp</code> in terms of ResultFDO, changing only the return signature.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function">fetchGamesOp</span><span class="token punctuation">(</span>named<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">ResultFDO</span><span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">Game</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">AnyError</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> gameRequest <span class="token operator">=</span> <span class="token builtin">NSFetchRequest</span><span class="token operator">&lt;</span><span class="token builtin">Game</span><span class="token operator">></span><span class="token punctuation">(</span>entityName<span class="token punctuation">:</span> “<span class="token builtin">Game</span>”<span class="token punctuation">)</span>
    gameRequest<span class="token punctuation">.</span>predicate <span class="token operator">=</span> <span class="token function">NSPredicate</span><span class="token punctuation">(</span>format<span class="token punctuation">:</span> “name <span class="token operator">==</span> <span class="token operator">%</span>@“<span class="token punctuation">,</span> named<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">fetchOperation</span><span class="token punctuation">(</span>gameRequest<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Then finally, we hook them up together.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> filteredGamesOp<span class="token punctuation">:</span> <span class="token builtin">ResultFDO</span><span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">Game</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">AnyError</span><span class="token operator">></span> <span class="token operator">=</span> nameOperation<span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>fetchDogsOp<span class="token punctuation">)</span></code></pre></div>
<p>Sweet! It’s now simplified to just one call.</p>
<p>You might need to spend a bit of time to implement a brand new container and its methods, but it will be worthy of your time if this nested combination is used often enough.</p>
<h2 id="doing-the-heavy-lifting" style="position:relative;"><a href="#doing-the-heavy-lifting" aria-label="doing the heavy lifting permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Doing the Heavy-lifting</h2>
<p>In our previous article of (Re)implementing Result type, we talked about using <code class="language-text">lift</code> on nested wrapper types. Its primary purpose is to make it easy for the underlying types to be “lifted” into its world. In our use-case, the underlying types are <code class="language-text">FunctionalDataOperation</code> and <code class="language-text">Result</code>.</p>
<p>So we can implement two <code class="language-text">lift</code> functions that do exactly that.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token comment">//// Lifts a Result into ResultFDO</span>
<span class="token keyword">public</span> <span class="token keyword">func</span> lift<span class="token operator">&lt;</span><span class="token builtin">Element</span><span class="token punctuation">,</span> <span class="token builtin">Error</span><span class="token operator">></span>
<span class="token punctuation">(</span><span class="token number">_</span> result<span class="token punctuation">:</span> <span class="token builtin">Result</span><span class="token operator">&lt;</span><span class="token builtin">Element</span><span class="token punctuation">,</span> <span class="token builtin">Error</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">ResultFDO</span><span class="token operator">&lt;</span><span class="token builtin">Element</span><span class="token punctuation">,</span> <span class="token builtin">Error</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token builtin">ResultFDO</span> <span class="token punctuation">{</span> <span class="token number">_</span> <span class="token keyword">in</span> result <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//// Lifts a FunctionalDataOperation into a ResultFDO</span>
<span class="token keyword">public</span> <span class="token keyword">func</span> lift<span class="token operator">&lt;</span><span class="token builtin">Element</span><span class="token punctuation">,</span> <span class="token builtin">Error</span><span class="token operator">></span>
<span class="token punctuation">(</span><span class="token number">_</span> operation<span class="token punctuation">:</span> <span class="token builtin">FunctionalDataOperation</span><span class="token operator">&lt;</span><span class="token builtin">Element</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">ResultFDO</span><span class="token operator">&lt;</span><span class="token builtin">Element</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">ResultFDO</span><span class="token punctuation">(</span>operation<span class="token punctuation">:</span> operation<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token builtin">Result</span><span class="token punctuation">.</span>success<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>P/S: Result.success is a function shorthand for { Result.success($0) } .</p>
<p>These are useful when you have a <code class="language-text">FunctionalDataOperation</code> and you want to use flatMap into a ResultFDO. Instead of calling map on the <code class="language-text">FunctionalDataOperation</code> and getting it a mess, it’s better to just lift it to <code class="language-text">ResultFDO</code> and then call flatMap.</p>
<h2 id="conclusion" style="position:relative;"><a href="#conclusion" aria-label="conclusion permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2>
<p>It is not the purpose of this article to show you the implementation details of <code class="language-text">ResultFDO</code>, rather it is to show you the importance of separating concerns for different containers. For instance, the purpose of <code class="language-text">FunctionalDataOperation</code> is primarily thread management, so it should just focus on that, and we should not introduce the Result type to it. It may sound ironic but the key to making nested containers easy to deal with is by introducing new containers as demonstrated in this article. The upfront cost of doing so is little but can save us a lot of time in the long run.</p>
<h2 id="wrapper-ception" style="position:relative;"><a href="#wrapper-ception" aria-label="wrapper ception permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Wrapper-ception</h2>
<p>I hope this article has inspired you to consider abstracting those nested containers you have been using (and hating all along!). Next up, I will be integrating Point-free’s randomness container <code class="language-text">Gen</code> into <code class="language-text">ResultFDO</code> which would then allow us to have a more controllable seeding of our CoreData context (for testing). Then, I will apply the same concept again to justify another container for wrapping our <code class="language-text">ResultFDO</code> as otherwise, we would need to deal with up to three levels deep of containers.</p>
<p>For any feedback (or just to say hi), buzz me😊</p></div><hr class="custom-hr"/><div class="bio"><div class="author"><div class="author-description"><div class="author-image gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:72px;height:72px;border-radius:100%"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAQDBQL/xAAWAQEBAQAAAAAAAAAAAAAAAAADAQD/2gAMAwEAAhADEAAAAefpr7s5S5NBSKcIJf/EABkQAAMBAQEAAAAAAAAAAAAAAAECAwASMf/aAAgBAQABBQJJLzWbDNIgoQlLsGzNJTNiC55Hu//EABgRAAIDAAAAAAAAAAAAAAAAAAEQAhEy/9oACAEDAQE/AbClpf/EABgRAAIDAAAAAAAAAAAAAAAAAAEQAhEx/9oACAECAQE/AaKji//EACEQAAIBAwMFAAAAAAAAAAAAAAABEQISIQMQEyIxUWFx/9oACAEBAAY/AvNQr0o9GEciymuxbSdWnL+kDjb/xAAbEAEBAQADAQEAAAAAAAAAAAABEQAhMVFBwf/aAAgBAQABPyGFyqWfmUirg35UxhPIcGjwndDFgELb3gDnV2yqq13/2gAMAwEAAgADAAAAEI/4AP/EABgRAQADAQAAAAAAAAAAAAAAAAEAEBEx/9oACAEDAQE/EMR15CAxX//EABgRAAMBAQAAAAAAAAAAAAAAAAABERAx/9oACAECAQE/EKSLoxnef//EAB4QAQACAgMAAwAAAAAAAAAAAAEAESFBMWFxUaHw/9oACAEBAAE/ECPRgCVbx+dxNacwu+8fcQDOtpBBpa7Dn0jt7i+JhohaIsZr+TT1DIbxU68lFFmrdRy5G1dz/9k=" alt="[SHIDDARTA BAHADUR]" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/9834954ed228a421763863ee68a63c47/3e51d/IMG_0214.jpg 1x,
/static/9834954ed228a421763863ee68a63c47/3bd3e/IMG_0214.jpg 1.5x,
/static/9834954ed228a421763863ee68a63c47/9d183/IMG_0214.jpg 2x" /><img loading="lazy" width="72" height="72" srcset="/static/9834954ed228a421763863ee68a63c47/3e51d/IMG_0214.jpg 1x,
/static/9834954ed228a421763863ee68a63c47/3bd3e/IMG_0214.jpg 1.5x,
/static/9834954ed228a421763863ee68a63c47/9d183/IMG_0214.jpg 2x" src="/static/9834954ed228a421763863ee68a63c47/3e51d/IMG_0214.jpg" alt="[SHIDDARTA BAHADUR]" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="author-name"><span class="author-name-prefix">Written by</span><div class="author-name-content"><span>@<!-- -->[SHIDDARTA BAHADUR]</span></div><div class="author-introduction">An iOS development blog crafted for knowledge sharing.</div><p class="author-socials"><a href="https://github.com/syd-developer" target="_blank">GitHub</a><a href="https://www.linkedin.com/in/shiddarta" target="_blank">LinkedIn</a></p></div></div></div></div><ul class="navigator"><li id="prev"><a rel="prev" href="/machine-learning/Making-Core-Data-Functional/">← <!-- -->Making Core Data Functional</a></li><li id="next"></li></ul><footer class="footer">Copyright©2021<!-- --> <!-- -->| syd-dev.com<br/>Happy Coding 😊</footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-174946902-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/machine-learning/Error-Handling-in-Functional-Data-Operation/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-19a11a2c8a0865319485.js"],"app":["/app-056893061a14ebf0b4d4.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-04552f9a779bcd544711.js"],"component---src-pages-404-js":["/component---src-pages-404-js-f4a4c7224784e55d2a0a.js"],"component---src-pages-about-js":["/component---src-pages-about-js-02f1d492c3b37701c680.js"],"component---src-pages-index-js":["/component---src-pages-index-js-20e16e865534e8f226e8.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-4c4b87ab3d252628fc3f.js"]};/*]]>*/</script><script src="/polyfill-19a11a2c8a0865319485.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-4c4b87ab3d252628fc3f.js" async=""></script><script src="/cd7d5f864fc9e15ed8adef086269b0aeff617554-238a1a5fb509b1e3da47.js" async=""></script><script src="/d5d7a013bc6c1e2b6d7db819052c16d7efea5559-0aace0e4df3a86220f05.js" async=""></script><script src="/133dca110fad53aa1997b630637bbac3134a2d14-ab91db12522df6ece152.js" async=""></script><script src="/styles-89fd2ae28bdf06750a71.js" async=""></script><script src="/app-056893061a14ebf0b4d4.js" async=""></script><script src="/framework-85aff51d15c28c7fbe5f.js" async=""></script><script src="/webpack-runtime-04e9b4ee13a345434860.js" async=""></script></body></html>